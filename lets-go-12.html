<!DOCTYPE html>
<html lang="zh-CN">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title itemprop="name">Let's Go 12 — Goroutine 和 Channel - 真白的年轮面包</title>
	<meta name="description" content="">
	<meta name="keywords" content="golang">

        <meta name="robots" content="none">
    <meta name="generator" content="Halo 1.5.4">
        <link rel="shortcut icon" type="images/x-icon" href="https://i.loli.net/2020/08/21/zYQoZvxB6eclsR5.png">
    
        
	<link rel='stylesheet' href='static/css/style.min.css' type='text/css' media='all'>
	<link rel="stylesheet" href="static/css/css.css" media="noexist" onload="this.media='all'">
	<link rel="stylesheet" href="static/css/font_2010950_sh9o0r7ahar.css" media="noexist" onload="this.media='all'">
	<link rel="stylesheet" href="static/css/lib.css" media="noexist" onload="this.media='all'">
	<link rel='stylesheet' href="static/css/highlight-Dracula.css" type="text/css" media="noexist" onload="this.media='all'">
	<link rel="stylesheet" href="static/css/jqcloud.min.css" media="noexist" onload="this.media='all'">
	<link rel="stylesheet" href="static/css/justifiedGallery.min.css" media="noexist" onload="this.media='all'">
<style type="text/css"> .site-top .lower nav { display: block !important; } /** * 图片资源 */ .video-play, .loadvideo { background-image: url(static/image/play@32x32.png) } .video-pause { background-image: url(static/image/pause@32x32.png) } #video-add { background-image: url(static/image/add@32x32.png); } #loading-comments { background-image: url(static/image/disqus-preloader.svg); } .headertop.filter-grid:before { background-image: url(static/image/grid.png) } .headertop.filter-dot:before { background-image: url(static/image/dot.gif) } @media (max-width:860px) { .headertop.filter-dot:before { background-image: url(static/image/grid.png) } } .search-form.is-visible { background-image: url(static/image/iloli.gif); } #pagination .loading, #journals-pagination .loading { background-image: url(static/image/rotating-ball-o.svg); } #banner_wave_1 { background-image: url(static/image/wave1.png) repeat-x; } #banner_wave_2 { background-image: url(static/image/wave2.png) repeat-x; } /** 鼠标样式 */ a { cursor: url(http://127.0.0.1:8090/themes/LIlGG_Sakura/source/cursor/ayuda.cur), auto } a:active { cursor: url(http://127.0.0.1:8090/themes/LIlGG_Sakura/source/cursor/work.cur),alias } p { cursor: url(http://127.0.0.1:8090/themes/LIlGG_Sakura/source/cursor/texto.cur),auto } body { cursor: url(http://127.0.0.1:8090/themes/LIlGG_Sakura/source/cursor/normal.cur),auto; } .cd-top { cursor: url(http://127.0.0.1:8090/themes/LIlGG_Sakura/source/cursor/No_Disponible.cur),auto; } .botui-actions-buttons-button { cursor: url(http://127.0.0.1:8090/themes/LIlGG_Sakura/source/cursor/No_Disponible.cur),auto; } .button.botui-actions-buttons-button { cursor: url(http://127.0.0.1:8090/themes/LIlGG_Sakura/source/cursor/No_Disponible.cur),auto; } .highlight-wrap code { cursor: url(http://127.0.0.1:8090/themes/LIlGG_Sakura/source/cursor/texto.cur),auto } .cd-top { background: url(https://cdn.jsdelivr.net/gh/LIlGG/cdn@1.1.3/img/Sakura/images/scroll.png) no-repeat center; } .author-profile i, .post-like a, .post-share .show-share, .sub-text, .we-info a, span.sitename, .post-more i:hover, #pagination a:hover, .post-content a:hover, .float-content i:hover { color: #fe9600 } .feature i, .feature-title span, .download, .navigator i:hover, .links ul li:before, .ar-time i, span.ar-circle, .object, .comment .comment-reply-link, .siren-checkbox-radio:checked + .siren-checkbox-radioInput:after { background: #fe9600 } ::-webkit-scrollbar-thumb { background: #fe9600 } .download, .navigator i:hover, .link-title, .links ul li:hover, #pagination a:hover, .comment-respond input[type='submit']:hover { border-color: #fe9600 } .entry-content a:hover, .site-info a:hover, .comment h4 a, #comments-navi a.prev, #comments-navi a.next, .comment h4 a:hover, .site-top ul li a:hover, .entry-title a:hover, #archives-temp h3, span.page-numbers.current, .sorry li a:hover, .site-title a:hover, i.iconfont.js-toggle-search.iconsearch:hover, .comment-respond input[type='submit']:hover { color: #fe9600 } #nprogress .bar { background: #fe9600 } #nprogress .peg { box-shadow: 0 0 10px #fe9600, 0 0 5px #fe9600; } #pagination a:hover { border: 1px solid #fe9600; } #pagination a:hover { -webkit-box-shadow: 0 0 4px #fe9600; -moz-box-shadow: 0 0 4px #fe9600; -o-box-shadow: 0 0 4px #fe9600; box-shadow: 0 0 4px #fe9600 } .entry-content a:after { background-color: #fe9600 } .site-top ul li a:after { background-color: #fe9600 } .post-tags a:hover { color: #fe9600 } blockquote:before { color: #fe9600; } blockquote:after { color: #fe9600; } @media (max-width: 860px) { #mo-nav ul li a:hover { color: #fe9600; } } @media (min-width: 860px) { .chip-container { margin-top: -60px;; } } #gallery-filter { text-align: center; } .masonry-gallery .gallery-item { margin-bottom: 10px } /** 日志 */ .journals-line>li:nth-child(odd) .journal-label:after { border-right-color: #e6e6fa; } .at_button { background-color: #e6e6fa; color: #ffffff; } .at_button:hover { background: #f0ffff; color: #ffffff; } .journals-line>li:nth-child(odd) .journal-label { background: linear-gradient(60deg,rgba(255, 165, 150, 0.5) 5%, rgba(0, 228, 255, 0.35) 95%) 0% 0% / cover, url(https://i.loli.net/2021/11/16/ycwC4MGToI5ngHl.jpg) 0% 0% / cover; color: #ffffff; } .journals-line>li .journal-label { background: linear-gradient(60deg,rgba(255, 165, 150, 0.5) 5%, rgba(0, 228, 255, 0.35) 95%) 0% 0% / cover, url(https://i.loli.net/2021/11/16/ycwC4MGToI5ngHl.jpg) 0% 0% / cover; color: #ffffff; } /*黑夜模式控件透明度*/ body.dark .header-info, body.dark .top-social img { color:#fff; background:rgba(0,0,0,0.7); } body.dark .notification, body.dark .the-feature.from_left_and_right .info { background-color: rgba(0,0,0,0.7); } body.dark .skin-menu, body.dark .m-cd-top { background-color:rgba(0,0,0,0.7) !important; } /*黑夜模式图像亮度*/ body.dark img, body.dark .highlight-wrap, body.dark iframe, body.dark .entry-content .aplayer { filter:brightness(0.7); } /*黑夜模式主题色*/ body.dark .ar-time i, body.dark span.ar-circle, body.dark .scrollbar, body.dark .butterBar-message, body.dark .aplayer .aplayer-list ol li:hover { background: #fe9600 !important; } body.dark .aplayer .aplayer-list ol li.aplayer-list-light .aplayer-list-cur, body.dark .user-menu-option a:hover , body.dark .menu-list li:hover , body.dark .font-family-controls button:hover , body.dark .openNav .icon, body.dark .openNav .icon:before , body.dark .openNav .icon:after , body.dark .openNav .icon:after , body.dark .site-top ul li a:after { background-color: #fe9600; } body.dark #archives-temp h3, body.dark #moblieGoTop, body.dark #changskin, body.dark .the-feature.from_left_and_right a:hover .info p, body.dark .the-feature.from_left_and_right .info, body.dark .ins-section .ins-search-item:hover, body.dark .ins-section .ins-search-item:hover .ins-slug, body.dark .ins-section .ins-search-item:hover .ins-search-preview, body.dark .ins-section .ins-search-item:hover .iconfont , body.dark .float-content i:hover, body.dark .menhera-container .emoji-item:hover , body.dark .comment-respond .logged-in-as a:hover , body.dark .site-top ul li a:hover , body.dark i.iconfont.js-toggle-search.iconsearch:hover { color: #fe9600; } body.dark .aplayer .aplayer-info .aplayer-controller .aplayer-time .aplayer-icon:hover path { fill: #fe9600 } body.dark #moblieGoTop:hover , body.dark #changskin:hover { color: #fe9600; opacity:.8; } body.dark .focusinfo .header-tou img { box-shadow: inset 0 0 10px #fe9600; } </style> <!-- 评论模块独立样式 --> <style id="comment-style" type="text/css" media="noexist"> .halo-comment.dark button, .halo-comment.dark input, .halo-comment.dark select, .halo-comment.dark textarea, .halo-comment.dark i.iconfont.js-toggle-search.iconsearch, .halo-comment.dark .comment-textarea .input-label, .halo-comment.dark #emotion-toggle span, .halo-comment.dark .emotion-box, .halo-comment.dark .emotion-box .motion-container .emoji-item { color: #eee !important; } .halo-comment.dark .body p { color: #bebebe !important; } .halo-comment.dark input[type=color]:focus, .halo-comment.dark input[type=date]:focus, .halo-comment.dark input[type=datetime-local]:focus, .halo-comment.dark input[type=datetime]:focus, .halo-comment.dark input[type=email]:focus, .halo-comment.dark input[type=month]:focus, .halo-comment.dark input[type=number]:focus, .halo-comment.dark input[type=password]:focus, .halo-comment.dark input[type=range]:focus, .halo-comment.dark input[type=search]:focus, .halo-comment.dark input[type=tel]:focus, .halo-comment.dark input[type=text]:focus, .halo-comment.dark input[type=time]:focus, .halo-comment.dark input[type=url]:focus, .halo-comment.dark input[type=week]:focus, .halo-comment.dark textarea:focus { color: #eee !important; background-color: #31363b !important; } .halo-comment.dark .comment .info, .halo-comment.dark .comment .comment-time, .halo-comment.dark .comment-respond .logged-in-as, .halo-comment.dark .notification, .halo-comment.dark .comment-respond .logged-in-as a { color: #9499a8; } /** 说说评论样式 */ .halo-comment.journal { max-height: 600px; overflow: auto; } </style>	<script type="text/javascript">
		if (!!window.ActiveXObject || "ActiveXObject" in window) {
			alert('请抛弃万恶的IE系列浏览器吧。');
		}
	</script>
</head>
<body class="hfeed chinese-font serif">
<section id="main-container">
		<div class="headertop filter-dim">
<figure id="centerbg" class="centerbg" style="background-image: url(
		static/image/XG5bOgFJek6v2NH.jpg
	);
">
	<div class="focusinfo">
			<h1 class="center-text glitch" data-text="Shiina Mashiro">Shiina Mashiro</h1>
		<div class="header-info no-select
			 info-desc"><p><i class="fa fa-quote-left"></i><span class="desc"> 此 生 无 悔 恋 真 白 ，来 世 愿 入 樱 花 庄 。</span><i class="fa fa-quote-right"></i></p>
			<div class="top-social_v2">
			    <li id="bg-pre">
            		<img class="flipx" src="static/picture/next-b.svg">
          		</li>
				<li>
					<a href="javascript:;" target="_blank" class="social-github i18n" data-iname="icon_alt.github" data-iattr="title">
						<img src="static/picture/github.png">
					</a>
				</li>
				<li>
					<a href="javascript:;" target="_blank" class="social-bili i18n" data-iname="icon_alt.bili" data-iattr="title">
						<img src="static/picture/bilibili.png">
					</a>
				</li>
				<li>
					<a href="javascript:;" target="_blank" class="i18n" data-iname="icon_alt.twitter" data-iattr="title">
						<img src="static/picture/twitter.png">
					</a>
				</li>
				<li>
					<a href="javascript:;" target="_blank" class="i18n" data-iname="icon_alt.stackoverflow" data-iattr="title">
						<img src="static/picture/stackoverflow.svg">
					</a>
				</li>


				<li id="bg-next">
            		<img src="static/picture/next-b.svg">
          		</li>
			</div>
		</div>
	</div>
</figure>
		<!-- 背景视频 -->
<div id="video-container">
    <video id="bgvideo" class="video" data-id="" data-server="bilibili" data-url="/sakurasou.flv" width="auto" preload="auto" data-cid="" data-qn="64" data-vtype="0"></video>
    <div id="video-btn" class="loadvideo videolive"></div>
    <div id="video-add"></div>
    <div class="video-stu"></div>
</div>		<!-- 首页下拉箭头 -->
			<div class="headertop-down faa-float animated" onclick="headertop_down()">
				<span><i class="fa fa-chevron-down" aria-hidden="true"></i></span>
			</div>
		</div>
	<div id="page" class="site wrapper">
<style>
    /** Post start */
        /** 文章页面导航栏自动收缩 */
        .yya:not(.sabit) {
            top: -100px;
            transition: all .4s ease;
        }

        .sabit {
            transition: all .4s ease;
        }

        /** 文章页首行缩进 */
    /** Post end */
</style>		<header class="site-header  " role="banner">
			<div class="site-top">
				<div class="site-branding">
						<div class="site-title">
							<a href="index.html">
								<img src="static/picture/VByUkvYofXhMP2H.png">
							</a>
						</div>
				</div><!-- .site-branding -->
				<div class="header-user-avatar">
					<img src="static/picture/avatar.jpg" width="30" height="30">
					<div class="header-user-menu">
						<div class="herder-user-name">
							<div class="herder-user-name-u">Parasomnia</div>
						</div>
					</div>
				</div>
				<div class="searchbox"><i class="iconfont js-toggle-search iconsearch icon-search"></i></div>
				<div class="lower-cantiner">
					<div class="lower">
						<nav class="navbar">
<ul id="menu-menu-1" class="menu">
				<li>
				<a href="index.html" target="_self">
                    <span class="faa-parent animated-hover">
                            <i class="fa fa-fort-awesome faa-tada" aria-hidden="true"></i>
                        首页
                    </span>
				</a>
			</li>

			<li>
				<a href="archives.html" target="_self">
                    <span class="faa-parent animated-hover">
                            <i class="fa fa-archive faa-tada" aria-hidden="true"></i>
                        归档
                    </span>
				</a>
			</li>

			<li>
				<a href="categories.html" target="_self">
                    <span class="faa-parent animated-hover">
                            <i class="fa fa-folder-open faa-tada" aria-hidden="true"></i>
                        分类
                    </span>
				</a>
			</li>

			<li>
				<a href="tags.html" target="_self">
                    <span class="faa-parent animated-hover">
                            <i class="fa fa-tags faa-tada" aria-hidden="true"></i>
                        标签
                    </span>
				</a>
			</li>

			<li>
				<a href="journals.html" target="_self">
                    <span class="faa-parent animated-hover">
                            <i class="fa fa-calendar-o  faa-tada" aria-hidden="true"></i>
                        足迹
                    </span>
				</a>
			</li>

			<li>
				<a href="board.html" target="_self">
                    <span class="faa-parent animated-hover">
                            <i class="fa fa-pencil faa-tada" aria-hidden="true"></i>
                        留言
                    </span>
				</a>
			</li>

			<li>
				<a href="links.html" target="_self">
                    <span class="faa-parent animated-hover">
                            <i class="fa fa-link faa-shake" aria-hidden="true"></i>
                        友链
                    </span>
				</a>
			</li>

			<li>
				<a href="about.html" target="_self">
                    <span class="faa-parent animated-hover">
                            <i class="fa fa-leaf faa-tada" aria-hidden="true"></i>
                        关于
                    </span>
				</a>
			</li>

			<li>
				<a href="javascript:;" target="_self">
                    <span class="faa-parent animated-hover">
                            <i class="fa fa-rss faa-tada" aria-hidden="true"></i>
                        订阅
                    </span>
				</a>
			</li>

</ul>						</nav>
						<!-- #site-navigation -->
					</div>
				</div>
			</div>
		</header><!-- #masthead -->
        <div class="pattern-center-blank"></div>
        <div class="pattern-center single-center no-select">
            <div class="pattern-attachment-img">
                <img class="lazyload" data-src="static/image/gPwDKkpz2qb8fxu.png" src="static/picture/orange.progress-bar-stripe-loader.svg" onerror="imgError(this)">
            </div>
            <header class="pattern-header single-header">
                <h1 class="entry-title">Let's Go 12 — Goroutine 和 Channel</h1>
                <p class="entry-census">
                    <span>
                        <a href="index.html">
                            <img src="static/picture/avatar.jpg">
                        </a>
                    </span>
                    <span>
                        <a href="index.html">Parasomnia</a>
                    </span>
                    <span class="bull">·</span><span class="i18n" data-iname="post.time" data-ivalue="2020-09-15"></span>
                    <span class="bull">·</span><span class="i18n" data-iname="post.edit_time" data-ivalue="2020-09-15"></span>
                    <span class="bull">·</span><span class="i18n" data-iname="post.visits" data-ivalue="588"></span>
                </p>
            </header>
        </div>
		<div id="content" class="site-content">
<div id="primary" class="content-area">
    <main id="main" class="site-main" role="main">
<article id="post-81">
    <div class="toc-container">
        <div class="toc"></div>
    </div>
    <div class="entry-content">
        <h1 id="goroutine">Goroutine</h1>
<p>也就是 Golang 的多线程</p>
<p>只需在函数调用语句前添加 <code>go</code> 关键字，就可创建并发执行单元。</p>
<pre><code class="language-go">go func(){
    // your code...
}
</code></pre>
<p>开发⼈人员无需了解任何执行细节，调度器会自动将其安排到合适的系统线程上执行。事实上，入口函数 <code>main</code> 就以 <code>goroutine</code> 运行。</p>
<h2 id="关于调度器的说明">关于调度器的说明</h2>
<p><strong>调度器不能保证多个 <code>goroutine</code> 执行次序，且进程退出时不会等待它们结束。</strong></p>
<p>所以对于这段代码：</p>
<pre><code class="language-go">package main

import &quot;fmt&quot;

func main() {
	go printSomeThing(1)
	go printSomeThing(2)
}

func printSomeThing(sth int) {
	for i := 0; i &lt; 100; i++ {
		fmt.Println(sth)
	}
	fmt.Println(&quot;finish&quot;, sth)
}

// 其实什么输出都没有，直接就给结束了
</code></pre>
<p>默认情况下，进程启动后仅允许一个系统线程服务于 <code>goroutine</code>（粗略理解为默认单核运行）。可使用环境变量或标准库函数 <code>runtime.GOMAXPROCS</code> 修改，让调度器用多个线程实现多核并行，而不仅仅是并发。</p>
<h2 id="一个简单的多线程demo">一个简单的多线程demo</h2>
<p>把上面的例子稍微修改亿点点，就是一个简单的多线程demo</p>
<pre><code class="language-go">package main

import (
	&quot;fmt&quot;
	&quot;sync&quot;
)

func main() {
	// WaitGroup 用于管理线程阻塞
	wg := new(sync.WaitGroup)

	// 在 WaitGroup 中需要管理两个线程，即 Counter = 2
	wg.Add(2)

	// 1号线程
	go func() {
		defer wg.Done() //执行完成时，Counter - 1
		printSomeThing(1)
	}()
	// 2号线程
	go func() {
		defer wg.Done()
		printSomeThing(2)
	}()

	wg.Wait() // 用于将主线程阻塞，以免发生上面那样直接结束的情况，当 Counter = 0 时结束阻塞
}

//线程执行方法
func printSomeThing(sth int) {
	for i := 0; i &lt; 100; i++ {
		fmt.Println(sth)
	}
	fmt.Println(&quot;finish&quot;, sth)
}
</code></pre>
<h2 id="线程控制">线程控制</h2>
<h3 id="停止当前执行的-goroutine">停止当前执行的 goroutine</h3>
<p>调用 <code>runtime.Goexit</code> 将立即终止当前 goroutine 执行，调度器确保所有已注册 <code>defer</code> 延迟调用被执行。</p>
<p>继续拿上面那个举例</p>
<pre><code class="language-go">package main

import (
	&quot;fmt&quot;
	&quot;runtime&quot;
	&quot;sync&quot;
)

func main() {
	wg := new(sync.WaitGroup)

	wg.Add(1)

	go func() {
		defer wg.Done()
		printSomeThing(1)
	}()

	wg.Wait()
}

//线程执行方法
func printSomeThing(sth int) {
	for i := 0; i &lt; 100; i++ {
		fmt.Println(sth) // 只会输出一次
		runtime.Gosched() // 停止 goroutine
	}
	fmt.Println(&quot;finish&quot;, sth) // 不会执行
}
</code></pre>
<h3 id="放弃当前运行权与其他线程重新争夺">放弃当前运行权，与其他线程重新争夺</h3>
<p>和协程 <code>yield</code> 作用类似，<code>Gosched</code> 让出底层线程，将当前 <code>goroutine</code> 暂停，放回队列等待下次被调度执行。（这并不代表其他线程就一定能获得执行权）</p>
<pre><code class="language-go">package main

import (
	&quot;fmt&quot;
	&quot;runtime&quot;
	&quot;sync&quot;
)

func main() {
	wg := new(sync.WaitGroup)

	wg.Add(2)

	go func() {
		defer wg.Done()
		printSomeThing(1)
	}()
	go func() {
		defer wg.Done()
		printSomeThing(2)
	}()

	wg.Wait()
}

func printSomeThing(sth int) {
	for i := 0; i &lt; 100; i++ {
		fmt.Println(sth)

		// 每当循环3次就放一次权
		if i%3 == 0 {
			runtime.Gosched()
		}
	}
	fmt.Println(&quot;finish&quot;, sth)
}
</code></pre>
<hr>
<h1 id="channel">Channel</h1>
<h2 id="一个经典的例子">一个经典的例子</h2>
<p>我们先来看一个经典的例子（售票）</p>
<pre><code class="language-go">package main

import (
	&quot;fmt&quot;
	&quot;sync&quot;
)

var i = 100 // 有100张票

func main() {
	wg := new(sync.WaitGroup)

	wg.Add(2) // 有两个售票窗口

	go func() {
		defer wg.Done()
		sell(&quot;routine2&quot;)

	}()
	go func() {
		defer wg.Done()
		sell(&quot;routine1&quot;)
	}()

	wg.Wait()
}

func sell(routineName string) {
	for {
		if i &lt;= 0 {
			fmt.Println(routineName,&quot; said no more ticket&quot;)
			break
		}
		fmt.Println(routineName,&quot; sells&quot;, i)
		i--
	}
}

/*	运行结果：
...
routine1 sells 0
routine1 said no more ticket
routine2 sells 47
routine2 said no more ticket
*/

</code></pre>
<p>可以从上面的运行结果中看到 <code>routine1</code>刚说票卖完了，<code>routine2</code> 转手就卖了一张，这是线程不安全导致的问题 —— 在 golang 中是通过使用管道（channel）并联各个线程来解决这个问题的</p>
<h2 id="语法">语法</h2>
<h3 id="声明开启">声明/开启</h3>
<p>管道自声明以后，便是开着的，只有开着的管道才能向线程传输数据</p>
<p>使用 <code>make</code> 关键字来声明 <code>channel</code>: <code>make (chan datatype)</code></p>
<h3 id="关闭">关闭</h3>
<p>使用  <code>close(channel_name)</code> 来关闭管道</p>
<h3 id="判断管道的开闭">判断管道的开闭</h3>
<p>第一种方式是使用关键字 <code>range</code>，如果 <code>channel</code> 关闭，就会退出循环</p>
<pre><code class="language-go">for value := range channelName {
	// your code here...
}
</code></pre>
<p>除用 <code>range</code> 外，还可用 <code>ok-idiom</code> 模式判断 <code>channel</code> 是否关闭。</p>
<pre><code class="language-go">for {
	if d, ok := &lt;-data; ok {
		fmt.Println(d)
	} else {
		break
	}
}
</code></pre>
<h3 id="数据的发送与接收">数据的发送与接收</h3>
<p><code>data &lt;- 1</code> 发送数据到管道（假设管道名为 <code>data</code>，数据类型为 <code>chan int</code>）<br>
<code>&lt;- data</code> 从管道接受数据（假设管道名为 <code>data</code>，数据类型为 <code>chan int</code>）</p>
<p><strong>向 closed channel 发送数据引发 panic 错误，接收立即返回零值。而 nil channel，无论收发都会被阻塞。</strong></p>
<h2 id="应用模式">应用模式</h2>
<p>下面说说常见的两种应用模式：</p>
<h3 id="同步模式">同步模式</h3>
<p>同步模式，需要发送和接收配对。否则会被阻塞，直到另一方准备好后被唤醒。</p>
<pre><code class="language-go">package main

import &quot;fmt&quot;

func main() {
	data := make(chan int)  // 数据交换队列
	exit := make(chan bool) // 退出通知

	go func() {
		for d := range data { // 从队列迭代接收数据，直到 close 。
			fmt.Println(d)
		}
		fmt.Println(&quot;recv over.&quot;)
		exit &lt;- true // 发出退出通知。
	}()

	data &lt;- 1 // 发送数据。
	data &lt;- 2
	data &lt;- 3
	close(data) // 关闭队列。

	fmt.Println(&quot;send over.&quot;)
	&lt;-exit // 等待退出通知。
}
/*	运行结果：
    1
    2
    send over.
    3
    recv over.
*/
</code></pre>
<h3 id="异步模式">异步模式</h3>
<p>异步方式通过判断缓冲区来决定是否阻塞。如果缓冲区已满，发送被阻塞；缓冲区为空，接收被阻塞。</p>
<p>通常情况下，异步 <code>channel</code> 可减少排队阻塞，具备更高的效率。<strong>但应该考虑使用指针规避大对象拷贝，将多个元素打包，减小缓冲区大小</strong>等。</p>
<pre><code class="language-go">package main

import &quot;fmt&quot;

func main() {
	data := make(chan int, 3) // 缓冲区可以存储 3 个元素
	exit := make(chan bool)

	data &lt;- 1 // 在缓冲区未满前，不会阻塞。
	data &lt;- 2
	data &lt;- 3

	go func() {
		for d := range data { // 在缓冲区未空前，不会阻塞。
			fmt.Println(d)
		}

		exit &lt;- true
	}()

	data &lt;- 4 // 如果缓冲区已满，阻塞。
	data &lt;- 5
	close(data)

	&lt;-exit
}

</code></pre>
<p>缓冲区是内部属性，并非类型构成要素。</p>
<pre><code class="language-go">var a, b chan int = make(chan int), make(chan int, 3) // 无论是否加了缓冲大小都能给  chan 类型赋值
</code></pre>
<p>内置函数 <code>len</code> 返回未被读取的缓冲元素数量，<code>cap</code> 返回缓冲区大小。</p>
<pre><code class="language-go">d1 := make(chan int)
d2 := make(chan int, 3)

d2 &lt;- 1

fmt.Println(len(d1), cap(d1)) // 0 0
fmt.Println(len(d2), cap(d2)) // 1 3
</code></pre>
<h2 id="回到前面的例子">回到前面的例子</h2>
<p>有了 <code>channel</code> 以后，怎么改造前面例子中的代码能够线程安全呢？ —— 利用异步阻塞</p>
<pre><code class="language-go">package main

import (
	&quot;fmt&quot;
	&quot;sync&quot;
)

func main() {
	wg := new(sync.WaitGroup)
	wg.Add(2)

	ticketChan := make(chan int, 1)
	ticketChan &lt;- 100

	go func() {
		defer wg.Done()
		sell(&quot;routine1&quot;, ticketChan)
	}()

	go func() {
		defer wg.Done()
		sell(&quot;routine2&quot;, ticketChan)
	}()

	wg.Wait()

}

func sell(routineName string, ticketChan chan int) {
	//for {
	//	if left, ok := &lt;-ticketChan; ok {
	//		if left &lt;= 0 {
	//			fmt.Println(routineName, &quot;said no more ticket&quot;)
	//			close(ticketChan)
	//			break
	//		}
	//		fmt.Println(routineName, &quot;sells&quot;, left)
	//		left--
	//		ticketChan &lt;- left
	//	} else {
	//		break
	//	}
	//}

	for left := range ticketChan {
		if left &lt;= 0 {
			fmt.Println(routineName, &quot;said no more ticket&quot;)
			close(ticketChan)
			break
		}
		fmt.Println(routineName, &quot;sells&quot;, left)
		left--
		ticketChan &lt;- left
	}
}


/*	运行结果：
	routine1 sells 3
	routine2 sells 2
	routine1 sells 1
	routine2 said no more ticket
*/
</code></pre>
<p>问题解决~</p>
<hr>
<h1 id="参考">参考</h1>
<ul>
<li><a href="javascript:;">Go 边看边练</a></li>
</ul>

        <p>Q.E.D. <i class="fa fa-meetup" aria-hidden="true" style="color:#d34836"></i></p>
    </div><!-- .entry-content -->
    <div class="single-reward">
        <div class="reward-open"><span class="i18n" data-iname="post.reward"></span>
            <div class="reward-main">
                <ul class="reward-row">
                        <li class="alipay-code"><img src="https://i.loli.net/2020/08/21/iotaKjFTfAsh6qE.jpg"></li>
                        <li class="wechat-code"><img src="static/picture/HfcFv3kP18y4TGW.jpg"></li>
                </ul>
            </div>
        </div>
    </div>
    <footer class="post-footer">
        <div class="post-license">
            <a href="javascript:;" target="_blank" rel="nofollow">
                <i class="fa fa-creative-commons" aria-hidden="true"></i>
                <span class="i18n" data-iname="post.creative_commons"></span>
            </a>
        </div>
        <div class="post-tags">
                <i class="iconfont icon-tags"></i>
                    <a href="golang.html" rel="tag">golang</a>
        </div>
<style>
.s-wechat {
    position: relative;
}

.s-wechat .wechat-qrcode {
	display: none;
	border: 1px solid #eee;
	position: absolute;
	top: -215px;
	left: -84px;
	width: 200px;
	height: 192px;
	color: #666;
	font-size: 12px;
	text-align: center;
	background-color: #fff;
	box-shadow: 0 2px 10px #aaa;
	transition: all 200ms;
	-webkit-tansition: all 350ms;
	-moz-transition: all 350ms
}

.s-wechat .wechat-qrcode.bottom {
	top: 40px;
	left: -84px
}

.s-wechat .wechat-qrcode.bottom:after {
	display: none
}

.s-wechat .wechat-qrcode h4 {
	font-weight: normal;
	height: 26px;
	line-height: 26px;
	font-size: 12px;
	background-color: #f3f3f3;
	margin: 0;
	padding: 0;
	color: #777
}

.s-wechat .wechat-qrcode .qrcode {
	width: 105px;
	margin: 10px auto
}

.s-wechat .qrcode table {
	margin: 0 !important
}

.s-wechat .wechat-qrcode .help p {
	font-weight: normal;
	line-height: 16px;
	padding: 0;
	margin: 0
}

.s-wechat .wechat-qrcode:after {
	content: '';
	position: absolute;
	left: 50%;
	margin-left: -6px;
	bottom: -13px;
	width: 0;
	height: 0;
	border-width: 8px 6px 6px 6px;
	border-style: solid;
	border-color: #fff transparent transparent transparent
}

.s-wechat:hover .wechat-qrcode {
	display: block
}

.s-wechat .wechat-qrcode img {
	width: auto;
	height: auto;
}
</style>
<div class="post-share">
	<ul class="social-share sharehidden">
		<li>
			<a href="javascript:;" onclick="window.open(this.href, 'weibo-share', 'width=490,height=700');return false;" class="s-weibo i18n" data-iname="share.weibo" data-iattr="title">
				<img src="static/picture/weibo.png">
			</a>
		</li>
		<li>
			<a href="javascript:;" onclick="window.open(this.href, 'qq-share', 'width=730,height=500');return false;" class="s-qq i18n" data-iname="share.qq" data-iattr="title">
				<img src="static/picture/qq.png">
			</a>
		</li>
		<li>
			<a href="javascript:" class="s-wechat">
				<div class="wechat-qrcode">
					<h4 class="i18n" data-iname="share.wechat.qcode_title"></h4>
					<div id="qrcode" class="qrcode" title="http://127.0.0.1:8090/archives/lets-go-12" data-url="http://127.0.0.1:8090/archives/lets-go-12"></div>
					<div class="help">
						<p class="i18n" data-iname="share.wechat.help_1"></p>
						<p class="i18n" data-iname="share.wechat.help_2"></p>
					</div>
				</div>
				<img src="static/picture/wechat.png">
			</a>
		</li>
		<li>
			<a href="javascript:;" onclick="window.open(this.href, 'douban-share', 'width=490,height=600');return false;" class="s-douban i18n" data-iname="share.douban" data-iattr="title">
				<img src="static/picture/douban.png">
			</a>
		</li>
		<li>
			<a href="javascript:;" onclick="window.open(this.href, 'qzone-share', 'width=490,height=600');return false;" class="s-qzone i18n" data-iname="share.qzone" data-iattr="title">
				<img src="static/picture/qzone.png">
			</a>
		</li>
		<li>
			<a href="javascript:;" onclick="window.open(this.href, 'linkedin-share', 'width=490,height=600');return false;" class="s-linkedin i18n" data-iname="share.linkedin" data-iattr="title">
				<img src="static/picture/linkedin.png">
			</a>
		</li>
	</ul>
	<i class="iconfont show-share icon-forward"></i>
</div>
    </footer><!-- .entry-footer -->
</article><!-- #post-## -->
<section class="post-squares nextprev">
		<div class="post-nepre half previous">
			<a href="lets-go-13.html" rel="prev">
				<div class="background" style="background-image:url('static/image/gPwDKkpz2qb8fxu.png');"></div>
				<span class="label i18n" data-iname="post.prev"></span><div class="info"><h3>Let's Go 13 — channel的应用</h3><hr></div>
			</a>
		</div>
	<div class="post-nepre half next">
		<a href="try-openj9.html" rel="next">
			<div class="background" style="background-image:url('static/image/aN3OL1UszwoT7pR.png');"></div>
			<span class="label i18n" data-iname="post.next"></span><div class="info"><h3>内存不够，要不试试 OpenJ9 ？</h3><hr></div>
		</a>
	</div>
</section>
	<section class="author-profile">
		<div class="info" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
			<a href="index.html" class="profile gravatar"><img src="static/picture/avatar.jpg" itemprop="image" alt="Parasomnia" height="70" width="70"></a>
			<div class="meta">
				<span class="title">Parasomnia</span>
				<h3 itemprop="name">
					<a href="index.html" itemprop="url" rel="author">Parasomnia</a>
				</h3>						
			</div>
		</div>
		<hr>
		<p><i class="iconfont icon-pencil"></i>
			<span> 此 生 无 悔 恋 真 白 ，来 世 愿 入 樱 花 庄 。</span>
		</p>
	</section>
    </main><!-- #main -->
</div><!-- #primary -->
</div><!-- #content -->
<!-- 定义可变属性，会根据页面的改变而变化 -->
<script type='text/javascript'>
	/* <![CDATA[ */
    var PageAttr = {
		"metas": {
		},
		"isPost": "true",
		"postWordCount": "0",
		"postEditTime": "2020-09-15 22:05:05"
	}
	/* ]]> */
</script>
</div><!-- #page Pjax container-->
<footer id="colophon" class="site-footer" role="contentinfo">
	<div class="site-info">
		<div class="footertext">
			<p class="foo-logo" style="background-image: url('static/image/sakura.svg');"></p>
    ねえ、あなたは何になりたいの色？
    
		</div>
		<div class="footer-device">
			<p style="font-family: 'Ubuntu', sans-serif;">
				<span>Powered
 					<i class="fa fa-vimeo animated" style="color: #e74c3c;"></i>
					by
					<a rel="me" target="_blank" href="javascript:;" title="一款优秀的开源博客内容发布系统" style="text-decoration:none;">Halo</a>
				</span>
				 •
				<span>Crafted with
 					<i class="fa fa-heart animated" style="color: #e74c3c;"></i>
					by
					<a rel="me" target="_blank" href="javascript:;" style="text-decoration:none;">LIlGG</a>
				</span>
			</p>
			<p>
				© 2022 Parasomnia
			</p>
		</div>
	</div><!-- .site-info -->
</footer><!-- #colophon -->
<div class="openNav">
	<div class="iconflat">
		<div class="icon"></div>
	</div>
	<div class="site-branding">
			<div class="site-title">
				<a href="index.html">
					<img src="static/picture/VByUkvYofXhMP2H.png">
				</a>
			</div>
	</div>
</div><!-- m-nav-bar -->
</section><!-- #section -->
<!-- m-nav-center -->
<div id="mo-nav">
	<div class="m-avatar">
		<img src="static/picture/avatar.jpg">
	</div>

		<p style="text-align: center; color: #333; font-weight: 900; font-family: 'Ubuntu', sans-serif; letter-spacing: 1.5px">Shiina Mashiro</p>

		<p style="display:flex; justify-content:center;">
				<a href="javascript:;" class="social social-twitter" target="_blank"><img src="static/picture/twitter.png" width="18"></a>
				<a href="javascript:;" class="social social-github" target="_blank"><img src="static/picture/github.png" width="18"></a>
				<a href="javascript:;" class="social social-bili" target="_blank"><img src="static/picture/bilibili.png" width="18"></a>
		</p>

	<div class="m-search">
		<form class="m-search-form" method="get" action="/search" role="search">
			<input class="m-search-input" type="search" name="keyword" placeholder="搜索..." required="">
		</form>
	</div>
<ul id="menu-menu-1" class="menu">
				<li>
				<a href="index.html" target="_self">
                    <span class="faa-parent animated-hover">
                            <i class="fa fa-fort-awesome faa-tada" aria-hidden="true"></i>
                        首页
                    </span>
				</a>
			</li>

			<li>
				<a href="archives.html" target="_self">
                    <span class="faa-parent animated-hover">
                            <i class="fa fa-archive faa-tada" aria-hidden="true"></i>
                        归档
                    </span>
				</a>
			</li>

			<li>
				<a href="categories.html" target="_self">
                    <span class="faa-parent animated-hover">
                            <i class="fa fa-folder-open faa-tada" aria-hidden="true"></i>
                        分类
                    </span>
				</a>
			</li>

			<li>
				<a href="tags.html" target="_self">
                    <span class="faa-parent animated-hover">
                            <i class="fa fa-tags faa-tada" aria-hidden="true"></i>
                        标签
                    </span>
				</a>
			</li>

			<li>
				<a href="journals.html" target="_self">
                    <span class="faa-parent animated-hover">
                            <i class="fa fa-calendar-o  faa-tada" aria-hidden="true"></i>
                        足迹
                    </span>
				</a>
			</li>

			<li>
				<a href="board.html" target="_self">
                    <span class="faa-parent animated-hover">
                            <i class="fa fa-pencil faa-tada" aria-hidden="true"></i>
                        留言
                    </span>
				</a>
			</li>

			<li>
				<a href="links.html" target="_self">
                    <span class="faa-parent animated-hover">
                            <i class="fa fa-link faa-shake" aria-hidden="true"></i>
                        友链
                    </span>
				</a>
			</li>

			<li>
				<a href="about.html" target="_self">
                    <span class="faa-parent animated-hover">
                            <i class="fa fa-leaf faa-tada" aria-hidden="true"></i>
                        关于
                    </span>
				</a>
			</li>

			<li>
				<a href="javascript:;" target="_self">
                    <span class="faa-parent animated-hover">
                            <i class="fa fa-rss faa-tada" aria-hidden="true"></i>
                        订阅
                    </span>
				</a>
			</li>

</ul>	<p class="m-footer">© 2022 Parasomnia</p>
</div><!-- m-nav-center end -->
<a href="#" class="cd-top"></a>
<!-- m-cd-top start -->
<button class="m-cd-top" title="Go to top">
	<i class="fa fa-chevron-up" aria-hidden="true"></i>
</button>
<!-- m-cd-top end -->
<!-- search start -->
<form class="js-search search-form search-form--modal" method="get" action="/search" role="search">
	<div class="search-form__inner">
		<div>
			<p class="micro mb-">输入后按回车搜索 ...</p>
			<i class="iconfont icon-search"></i>
			<input class="text-input" type="search" name="keyword" placeholder="Search" required="">
		</div>
	</div>
	<div class="search_close"></div>
</form>
<!-- search end -->
<!-- aplayer start -->
<!-- aplayer end -->
<!-- theme-change start -->
<div class="changeSkin-gear no-select">
	<div class="keys">
        <span id="open-skinMenu">切换主题 | SCHEME TOOL &nbsp;<i class="iconfont icon-gear inline-block rotating"></i></span>
    </div>
</div>
<div class="skin-menu no-select">
	<div class="theme-controls row-container">
		<ul class="menu-list">
			<li id="bg_0" data-text="默认是纯洁的白色~">
            	<i class="fa fa-television" aria-hidden="true"></i>
          	</li>
			<li id="bg_1" data-text="樱花飞舞~">
            	<i class="iconfont icon-sakura" aria-hidden="true"></i>
          	</li>
			<li id="bg_2" data-text="格子控！">
            	<i class="fa fa-slack" aria-hidden="true"></i>
          	</li>
			<li id="bg_3" data-text="小点点~">
            	<i class="iconfont icon-dots" aria-hidden="true"></i>
          	</li>
			<li id="bg_4" data-text="充满力量的橙色">
            	<i class="fa fa-optin-monster" aria-hidden="true"></i>
          	</li>
			<li id="bg_5" data-text="pixiv主题~">
            	<i class="iconfont icon-pixiv" aria-hidden="true"></i>
          	</li>
			<li id="bg_6" data-text="真白像素风格">
            	<i class="fa fa-smile-o" aria-hidden="true"></i>
          	</li>
			<li id="bg_7" data-text="关灯！">
            	<i class="fa fa-moon-o" aria-hidden="true"></i>
          	</li>
		</ul>
	</div>
</div>
<!-- theme-change end -->
<!-- 定义全局属性 -->
<script type='text/javascript'>
	/* <![CDATA[ */
	var Poi = {
		"pjax":"true",
		"windowheight":"auto",
		"ajaxurl":"http://127.0.0.1:8090",
		"resBaseUrl": "http://127.0.0.1:8090/themes/LIlGG_Sakura",
		"formpostion":"bottom",
		"toc": "true",
		"codeLine": "true",
		"themeChange": "true",
		"headFocus": "true",
		"bgvideo": "true",
		"tagRandomColorMin": "0.999",
		"tagRandomColorMax": "1",
		"nickname": "Parasomnia",
		"sitename": "真白的年轮面包",
		"themeBase": "http://127.0.0.1:8090/themes/LIlGG_Sakura",
		"openToast": "true",
		"toastWidth": 260,
		"toastHeight": 60,
		"toastTop": "top",
		"toastBackground": "#fe9600",
		"toastColor": "#ffffff",
		"toastFontSize": 14,
		"copyMonitor": "true",
		"copyrightNotice": "true",
		"photosStyle": "justify",
		"photosGutter": 10,
		"tocDepth": 0,
		"i18n": "auto",
		"coverNum": "5",
		"rimageUrl": "https://api.lixingyong.com/api/images",
		"coverOpen": "",
		"meEmail": "",
		"defaultTheme": "bg_0",
		"defaultGroup": "",
		"isPostWordCountToast": "",
		"isPostEditTimeToast": "",
		"postWordCountToastNormal": "文章篇幅适中，可以放心阅读。",
		"postWordCountToastMedium": "文章内容较长，请提前准备好咖啡!!!",
		"postWordCountToastDifficulty": "文章内容很长，建议分段阅读。",
		"postEditTimeToastNormal": "近期有所更新，请放心阅读！",
		"postEditTimeToastMedium": "文章距上次编辑时间较远，部分内容可能已经过时！",
		"postEditTimeToastDifficulty": "文章内容已经很陈旧了，也许不再适用！",
    "journalLikes": "",
    "journalComment": "",
	};
	var bgConfig = {

		"bg_0": {
			"id": "0",
			"name": "white",
			"desc": "默认是纯洁的白色~",
			"url": "",
			"strategy": "none",
			"isNight": ""
		},

		"bg_1": {
			"id": "1",
			"name": "sakura",
			"desc": "樱花飞舞~",
			"url": "https://view.lixingyong.com/images/2020/07/23/695cc3a80b21ee7f18bd731824ab9638.png",
			"strategy": "none",
			"isNight": ""
		},

		"bg_2": {
			"id": "2",
			"name": "gribs",
			"desc": "格子控！",
			"url": "https://view.lixingyong.com/images/2020/07/23/defc1b6783cd16774900517d3b38ded7.jpg",
			"strategy": "none",
			"isNight": ""
		},

		"bg_3": {
			"id": "3",
			"name": "KAdots",
			"desc": "小点点~",
			"url": "https://view.lixingyong.com/images/2020/07/23/kyotoanimation.png",
			"strategy": "none",
			"isNight": ""
		},

		"bg_4": {
			"id": "4",
			"name": "totem",
			"desc": "充满力量的橙色",
			"url": "https://view.lixingyong.com/images/2020/07/23/little-monster.png",
			"strategy": "none",
			"isNight": ""
		},

		"bg_5": {
			"id": "5",
			"name": "pixiv",
			"desc": "pixiv主题~",
			"url": "https://view.lixingyong.com/images/2020/07/23/star02.png",
			"strategy": "none",
			"isNight": ""
		},

		"bg_6": {
			"id": "6",
			"name": "Mashiro pixel",
			"desc": "真白像素风格",
			"url": "https://i.loli.net/2020/09/30/YbVaGTp8UkR4gHP.png",
			"strategy": "cover",
			"isNight": ""
		},

		"bg_7": {
			"id": "7",
			"name": "dark",
			"desc": "关灯！",
			"url": "",
			"strategy": "none",
			"isNight": "true"
		},
	};
	/* ]]> */
</script>
<script type='text/javascript' src='static/js/utils.min.js'></script>
<script type="text/javascript" src="static/js/lazysizes.min.js" async=""></script>
<script type="text/javascript" src="static/js/lib.js"></script>
<!-- 相册 -->
<script src="static/js/jquery.justifiedGallery.min.js" async=""></script>
<script type="text/javascript" src="static/js/highlight.pack.js" defer=""></script>
	<script type="text/javascript" src="static/js/highlightjs-line-numbers.min.js" defer=""></script>
	<script src="static/js/tocbot.min.js" defer=""></script>
<script src="static/js/sakura-comment.min.js" defer=""></script>
<script src="static/js/jqcloud.min.js" defer=""></script>
<script type='text/javascript'>
	var wordcloud = [
		{'text': '网络', 'weight': '1', 'link': 'http://127.0.0.1:8090/tags/网络'},
		{'text': '文件系统', 'weight': '1', 'link': 'http://127.0.0.1:8090/tags/文件系统'},
		{'text': '硬件', 'weight': '1', 'link': 'http://127.0.0.1:8090/tags/硬件'},
		{'text': 'oauth2', 'weight': '1', 'link': 'http://127.0.0.1:8090/tags/oauth2'},
		{'text': 'ssh', 'weight': '1', 'link': 'http://127.0.0.1:8090/tags/ssh'},
		{'text': 'python', 'weight': '3', 'link': 'http://127.0.0.1:8090/tags/python'},
		{'text': '中间件', 'weight': '1', 'link': 'http://127.0.0.1:8090/tags/中间件'},
		{'text': 'http', 'weight': '1', 'link': 'http://127.0.0.1:8090/tags/http'},
		{'text': '算法', 'weight': '3', 'link': 'http://127.0.0.1:8090/tags/算法'},
		{'text': 'golang', 'weight': '17', 'link': 'http://127.0.0.1:8090/tags/golang'},
		{'text': 'android', 'weight': '2', 'link': 'http://127.0.0.1:8090/tags/android'},
		{'text': '认知', 'weight': '3', 'link': 'http://127.0.0.1:8090/tags/认知'},
		{'text': 'git', 'weight': '3', 'link': 'http://127.0.0.1:8090/tags/git'},
		{'text': 'hard times', 'weight': '6', 'link': 'http://127.0.0.1:8090/tags/hardtime'},
		{'text': '心理', 'weight': '5', 'link': 'http://127.0.0.1:8090/tags/心理'},
		{'text': 'java', 'weight': '2', 'link': 'http://127.0.0.1:8090/tags/java'},
		{'text': '想法', 'weight': '8', 'link': 'http://127.0.0.1:8090/tags/想法'},
		{'text': '年终总结', 'weight': '3', 'link': 'http://127.0.0.1:8090/tags/年终总结'},
		{'text': '读后感', 'weight': '6', 'link': 'http://127.0.0.1:8090/tags/读后感'},
		{'text': 'oracle-db', 'weight': '1', 'link': 'http://127.0.0.1:8090/tags/oracle-db'},
		{'text': 'nginx', 'weight': '3', 'link': 'http://127.0.0.1:8090/tags/nginx'},
		{'text': '性能测试', 'weight': '1', 'link': 'http://127.0.0.1:8090/tags/性能测试'},
		{'text': 'linux', 'weight': '5', 'link': 'http://127.0.0.1:8090/tags/linux'},
		{'text': 'https', 'weight': '2', 'link': 'http://127.0.0.1:8090/tags/https'},
	]
</script>
<script src="static/js/echarts.min.js" async="" defer=""></script>
<script type='text/javascript'>
	var categoryRadar = {
		'闲聊': '23',
		'极客': '6',
		'起飞': '9',
		'技术': '39',
	}
</script>
<script type='text/javascript' src='static/js/qrcode.min.js' defer=""></script>
<script type='text/javascript' src='static/js/index.js' defer=""></script>
<script type='text/javascript' src='static/js/i18n.min.js' defer=""></script>
<script type='text/javascript' src='static/js/app.min.js'></script>
<div class="site-statistics">
    
</div>
</body>
</html>
